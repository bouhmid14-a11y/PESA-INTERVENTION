<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>PESA Intervention</title>
<script src="https://unpkg.com/@supabase/supabase-js@2"></script>

<style>
body{font-family:Arial;padding:20px;background:#f2f4f8}
button{padding:12px 20px;margin:5px;border:none;border-radius:8px;background:#1e3a8a;color:#fff}
.card{background:#fff;padding:15px;margin-top:10px;border-radius:10px}
</style>
</head>

<body>

<h2>PESA Intervention</h2>
<button onclick="add()">+ Ajouter intervention</button>

<div id="list"></div>

<script>
const supabase = window.supabase.createClient(
"https://YOURPROJECT.supabase.co",
"YOURKEY"
);

async function add(){
const station = prompt("Station ?");
const tech = prompt("Technicien ?");
if(!station||!tech)return;

await supabase.from('interventions').insert([{station,tech,statut:"ouvert"}]);
load();
}

async function load(){
let {data} = await supabase.from('interventions').select('*').order('id',{ascending:false});
document.getElementById("list").innerHTML="";
data.forEach(i=>{
document.getElementById("list").innerHTML+=`
<div class="card">
<b>${i.station}</b><br>
Tech: ${i.tech}<br>
Statut: ${i.statut}
</div>`;
});
}

load();
</script>

</body>
</html>
