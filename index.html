<script>
const supabase = window.supabase.createClient(
"https://gdwwbwymcoolbjfzmqeq.supabase.co",
"sb_publishable_NT8hPP9TDUIH0SCnQa0XQw_UXdWELAl"
);

async function ajouter(){
const station = prompt("Station ?");
const tech = prompt("Technicien ?");
if(!station || !tech) return alert("Informations manquantes");

await supabase.from("interventions").insert([
{
id: Date.now(),
station:station,
tech:tech,
statut:"Ouvert"
}
]);

charger();
}

async function charger(){
const {data,error} = await supabase
.from("interventions")
.select("*")
.order("id",{ascending:false});

if(error){ alert(error.message); return; }

document.getElementById("list").innerHTML="";
data.forEach(i=>{
document.getElementById("list").innerHTML += `
<div class="card">
<b>${i.station}</b> - ${i.tech}<br>
${i.statut}
</div>`;
});
}

charger();
</script>
